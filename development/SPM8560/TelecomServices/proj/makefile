##
##  Copyright(c) Tellabs, Inc. All rights reserved.
##
##  ---------------------------------------------------------------------------
##
## Makefile for Telecom Services Osi specific subsystem
##
##-----------------------------------------------------------------------------
## Template for subsystem makefile:
## 
## Generates a subsystem library from the submodule's libraries. Submodule 
## libraries will be generated by an embedded 'make' call on their makefiles. 
## Makefiles are assumed to be in the directory '<SubModuleName>/proj/' found 
## directly under the subsystem's directory. E.g. '../FC/Shell/proj' where 'FC' 
## is the subsystem and 'Shell' the submodule.
##
#==============================================================================
# User section:
# -Assign the subsystem library name to 'MYLIB'. Replace 'subsys_lib_name'.
# -Assign the submodules directory names to 'MYSUBMODULES' on separate lines
#  (case sensitive). Replace 'Module_1' and 'Module_2'.
# -Assign the name of the submodule libraries to 'MYLIBOBJS'. Replace 'Module_1' 
#  and 'Module_2'
#
#==============================================================================

MYLIB  = TS_SPM8560

MYSUBMODULES=\
	TsPii_Imp

MYLIBOBJS=\
	$(LIBDIR)/$(LIB_PREFIX)TsPiiSpecificSPM8560$(LIB_SUFFIX)

#===============================================================================
# Build specific section:
# 
# All commands in targets must include a call to the predefined macro 
# $(subst from,to,text) to substitute '/' or '\' to the correct path name 
# separator according to the target specific makerules.
#
# Commands to be executed in the same shell must be on the same line and 
# bound together with '&&'. E.g. 'cd' and 'make' must be executed in the same 
# shell in order to obtain a make command in the appropriate directory.
#===============================================================================

MAKERULES       = $(TTG_ROOT)/proj/makerules.$(PLATFORM)
PRJINCPATH      =  
PRJLIBPATH      =   
PRJLIBS         =   
PRJDEFINES      = 
MERGE_LIBNAME = TS

default : $(MYLIB)_$(PLATFORM)
all     : default

include $(MAKERULES)


$(MYLIB)_WIN32 : $(MYLIB)

$(MYLIB)_VXWRKS: $(MYSUBMODULES)

$(MYLIB)_VXWRKS67: $(MYSUBMODULES)

$(MYLIB)_SUN   : $(MYSUBMODULES)


$(MYSUBMODULES):
	@echo ***Making $@ specific for $(PLATFORM)...
	@cd $(subst $(ANTISLASH),$(SLASH),../$@/proj) && \
	$(MAKE)  

$(MYLIB): $(MYSUBMODULES)
	@echo ***Making $@ for $(PLATFORM)...
	@$(MAKE)   \
	OBJS="$(MYLIBOBJS)" \
	LIBNAME=$(MYLIB) \
	$(MAKETARGET:default=library)
